import{_ as a,r as s,o as n,c as r,a as t,b as e,d as l,e as i}from"./app-dXW-RLtW.js";const c="/assets/networking-tab-rUTFrw1o.png",d="/assets/select-origin-AOBRevtV.png",u="/assets/use-wordpress-preset-oZrClyTM.png",h="/assets/origin-protocol-zIUm1WEv.png",p="/assets/caching-behavior-Pi28JJk_.png",g="/assets/custom-domain-TrGhD8QE.png",m="/assets/create-certificate-VPPhthTX.png",f="/assets/create-cert-popup-rcO0ap2-.png",b="/assets/create-cert-domain-UZSm0ztU.png",_="/assets/attach-cert-szMi3d_8.png",y="/assets/your-distribution-SsVw2oDW.png",C="/assets/a-name-distribution-iya-8T25.png",w="/assets/c-name-distribution-uVcgCVGf.png",N="/assets/test-cloudfront-SruOdaH9.png",S="/assets/lightsail-flow-tQp92RNq.png",D={},v=i('<h1 id="tutorial-adding-a-cdn-to-your-lightsail-instance" tabindex="-1"><a class="header-anchor" href="#tutorial-adding-a-cdn-to-your-lightsail-instance"><span>Tutorial: Adding a CDN to Your Lightsail Instance</span></a></h1><h2 id="prerequisites" tabindex="-1"><a class="header-anchor" href="#prerequisites"><span>Prerequisites</span></a></h2><p>Before getting started, make sure you have the following:</p><ul><li>An active Amazon Lightsail account</li><li>A Lightsail instance running your website or application</li><li>Basic knowledge of managing Lightsail instances</li><li>Familiarity with DNS configuration (optional but recommended)</li></ul><h2 id="steps" tabindex="-1"><a class="header-anchor" href="#steps"><span>Steps</span></a></h2><h3 id="_1-log-in-to-the-amazon-lightsail-console" tabindex="-1"><a class="header-anchor" href="#_1-log-in-to-the-amazon-lightsail-console"><span>1. Log in to the Amazon Lightsail Console</span></a></h3>',6),k={href:"https://lightsail.aws.amazon.com/ls/webapp/home/instances",target:"_blank",rel:"noopener noreferrer"},q=i('<h3 id="_2-select-your-lightsail-instance" tabindex="-1"><a class="header-anchor" href="#_2-select-your-lightsail-instance"><span>2. Select Your Lightsail Instance</span></a></h3><p>From the dashboard, locate the Lightsail instance you want to add a CDN to and click on it to open its management page.</p><h3 id="_3-access-networking-tab" tabindex="-1"><a class="header-anchor" href="#_3-access-networking-tab"><span>3. Access Networking Tab</span></a></h3><p>Navigate to the &quot;Networking&quot; tab within the Lightsail instance management page.</p><h3 id="_4-create-static-ip-if-needed" tabindex="-1"><a class="header-anchor" href="#_4-create-static-ip-if-needed"><span>4. Create Static IP (If Needed)</span></a></h3><p>If your Lightsail instance doesn&#39;t already have a static IP assigned, you may want to create one. This is not mandatory for setting up a CDN but can be helpful for DNS configuration.</p><h3 id="_5-click-on-create-distribution-cdn" tabindex="-1"><a class="header-anchor" href="#_5-click-on-create-distribution-cdn"><span>5. Click on &quot;Create Distribution&quot; (CDN)</span></a></h3><p>Under the &quot;Networking&quot; tab, find the section for &quot;Create distribution&quot; and click on it. <img src="'+c+'" alt="Screenshot &quot;Networking&quot; tab - create distribution"></p><h3 id="_6-configure-cdn-settings" tabindex="-1"><a class="header-anchor" href="#_6-configure-cdn-settings"><span>6. Configure CDN Settings</span></a></h3><ul><li><strong>Select Your Origin:</strong> Now select your origin, in our case the instance is located in Singapore (ap-southeast-1) Region, simply select it.</li><li>An origin is the authoritative source of material for your distribution. When you build a distribution, you select the Lightsail instance, container service, bucket, or load balancer (with one or more instances connected) that will host the content of your website or web application. <img src="'+d+'" alt="Screenshot Choose Distribution Type"></li><li><strong>Choose Distribution Type:</strong> Select the type of distribution you want. For most web applications, &quot;Web&quot; distribution is suitable. But in our case, we will <code>select Wordpress</code> because it has the settings we need for our Wordpress site <ul><li>a prompt will popup, simply select Yes, apply. <img src="'+u+'" alt="Screenshot Use Wordpress Preset"></li></ul></li><li><strong>Distribution Protocol Policy:</strong> Choose whether to allow both HTTP and HTTPS traffic or HTTPS only. <img src="'+h+'" alt="Screenshot origin protocol"></li><li><strong>Default Cache Behavior Settings:</strong> Configure caching settings based on your application&#39;s requirements. In our case, Lightsail already selected the best for our needs. <img src="'+p+'" alt="Screenshot caching behavior"></li><li><strong>Choose Your Distribution Plan and Naming Your Distribution:</strong><ul><li>Choose what&#39;s best suitable for your distribution and budget plan.</li><li>Choose a unique name for your distribution.</li></ul></li></ul><h3 id="_7-create-cdn-distribution" tabindex="-1"><a class="header-anchor" href="#_7-create-cdn-distribution"><span>7. Create CDN Distribution</span></a></h3><p>After configuring the settings, click on the &quot;Create Distribution&quot; button to create your CDN distribution. It may take a few moments for the distribution to be provisioned.</p><h3 id="_8-update-dns-records" tabindex="-1"><a class="header-anchor" href="#_8-update-dns-records"><span>8. Update DNS Records</span></a></h3><p>If you&#39;re using a custom domain, you&#39;ll need to update your DNS records to point to the CDN. Create a CNAME record pointing to the CDN distribution domain name provided by Lightsail.</p><ul><li><em>follow these steps:</em><ol><li><strong>Navigate to the &quot;Domains &amp; DNS&quot; Tab in Amazon Lightsail:</strong> Access your Lightsail console and locate the &quot;Domains &amp; DNS&quot; section.</li><li><strong>Find the Name Servers provided by Lightsail:</strong> Within the &quot;Domains &amp; DNS&quot; tab, you&#39;ll find the name servers provided by Lightsail. These are crucial for managing DNS settings for your custom domain.</li><li><strong>Update the DNS Records:</strong> Depending on your DNS provider, locate the option to manage DNS records. Create a new CNAME record and point it to the CDN distribution domain name provided by Lightsail. This typically involves entering the subdomain (e.g., <code>cdn.yourdomain.com</code>) and the corresponding CDN distribution domain name.</li></ol></li></ul><h3 id="_9-custom-domain" tabindex="-1"><a class="header-anchor" href="#_9-custom-domain"><span>9. Custom Domain</span></a></h3><p>If you want a custom domain for your distribution, you can add it to your distribution.</p><ul><li><em>follow these steps:</em><ol><li>Navigate to <code>Networking</code> tab in Amazon Lightsail and select Customs Domains <img src="'+g+'" alt="Screenshot custom domain"></li><li>Select the <code>Create Certificate</code>, a popup will appear, proceed adding a name and select <code>Continue</code>. <img src="'+m+'" alt="Screenshot create certificate"><img src="'+f+'" alt="Screenshot create cert popup"></li><li>Now add your origin domain, and www then click <code>Create Certificate</code>. <em>example</em>: <ul><li>it will take some time to create the certificate. <img src="'+b+'" alt="Screenshot create cert popup"></li></ul></li><li>Attach your verified certificate <ul><li>In the Certificates section, choose Attach certificate.</li><li>Select a certificate from the dropdown list.</li><li>Choose Attach to attach the certificate. <img src="'+_+'" alt="Screenshot create cert popup"></li></ul></li></ol></li></ul><h3 id="_10-route-traffic-to-your-distribution" tabindex="-1"><a class="header-anchor" href="#_10-route-traffic-to-your-distribution"><span>10. Route Traffic to Your Distribution</span></a></h3><p>Once the CDN distribution is created and DNS records are updated or has verified its certificate(if applicable), test your website or application to ensure it&#39;s being served through the CDN. <img src="'+y+'" alt="Screenshot create cert popup"></p><ol><li>Navigate to <code>Domains &amp; DNS</code> tab and select your deployed domain.</li><li>Select the <code>DNS records tab</code> and select <code>Add record</code></li><li>The value should be <code>@</code>, select <code>A record</code> for record type. Copy your deployed distribution link from earlier and paste it to the <code>Resolves to</code> input field. Click Save. <img src="'+C+'" alt="Screenshot a-name dist"></li><li>Add a record again but this time Select <code>CName record</code> for record type and <code>www</code> for value. Copy your deployed distribution link from earlier and paste it to the <code>Route traffic to</code> input field. Click Save. <img src="'+w+'" alt="Screenshot cname dist"></li><li>Test your website, to see if AWS Cloudfront (CDN) is being used, simply look for an x-cache response header. It will mention Cloudfront (e.g., Hit from Cloudfront or Miss from Cloudfront). <ol><li>To view this, go to the web-page and right click -&gt; Inspect (or hit f12)</li><li>Select the Network tab and reload the page.</li><li>Select a file look for the response header <code>x-cache</code> to see if Cloudfront is being used. If it is, the value will be <code>Hit from Cloudfront</code>.</li></ol><ul><li><img src="'+N+'" alt="Screenshot cname dist"></li></ul></li></ol><h2 id="congrats" tabindex="-1"><a class="header-anchor" href="#congrats"><span>Congrats</span></a></h2><p>You have successfully added a CDN to your Lightsail instance. Your website or application should now be served through the CDN, providing improved performance and scalability. <em>see the image below for a visual representation of the flow.</em><img src="'+S+'" alt="Screenshot cname dist"></p>',23);function L(T,A){const o=s("ExternalLinkIcon");return n(),r("div",null,[v,t("p",null,[e("Go to the "),t("a",k,[e("Amazon Lightsail Console"),l(o)]),e(" and log in using your credentials.")]),q])}const I=a(D,[["render",L],["__file","add-cdn-lightsail.html.vue"]]),P=JSON.parse('{"path":"/guide/tutorial/aws/add-cdn-lightsail.html","title":"Tutorial: Adding a CDN to Your Lightsail Instance","lang":"en-US","frontmatter":{},"headers":[{"level":2,"title":"Prerequisites","slug":"prerequisites","link":"#prerequisites","children":[]},{"level":2,"title":"Steps","slug":"steps","link":"#steps","children":[{"level":3,"title":"1. Log in to the Amazon Lightsail Console","slug":"_1-log-in-to-the-amazon-lightsail-console","link":"#_1-log-in-to-the-amazon-lightsail-console","children":[]},{"level":3,"title":"2. Select Your Lightsail Instance","slug":"_2-select-your-lightsail-instance","link":"#_2-select-your-lightsail-instance","children":[]},{"level":3,"title":"3. Access Networking Tab","slug":"_3-access-networking-tab","link":"#_3-access-networking-tab","children":[]},{"level":3,"title":"4. Create Static IP (If Needed)","slug":"_4-create-static-ip-if-needed","link":"#_4-create-static-ip-if-needed","children":[]},{"level":3,"title":"5. Click on \\"Create Distribution\\" (CDN)","slug":"_5-click-on-create-distribution-cdn","link":"#_5-click-on-create-distribution-cdn","children":[]},{"level":3,"title":"6. Configure CDN Settings","slug":"_6-configure-cdn-settings","link":"#_6-configure-cdn-settings","children":[]},{"level":3,"title":"7. Create CDN Distribution","slug":"_7-create-cdn-distribution","link":"#_7-create-cdn-distribution","children":[]},{"level":3,"title":"8. Update DNS Records","slug":"_8-update-dns-records","link":"#_8-update-dns-records","children":[]},{"level":3,"title":"9. Custom Domain","slug":"_9-custom-domain","link":"#_9-custom-domain","children":[]},{"level":3,"title":"10. Route Traffic to Your Distribution","slug":"_10-route-traffic-to-your-distribution","link":"#_10-route-traffic-to-your-distribution","children":[]}]},{"level":2,"title":"Congrats","slug":"congrats","link":"#congrats","children":[]}],"git":{"updatedTime":1711123162000,"contributors":[{"name":"Dave","email":"39847764+Arrivas@users.noreply.github.com","commits":1}]},"filePathRelative":"guide/tutorial/aws/add-cdn-lightsail.md"}');export{I as comp,P as data};
